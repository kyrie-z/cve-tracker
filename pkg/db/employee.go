package db

import "fmt"

// Employee infomation
type Employee struct {
	EmployeeID string `json:"employee_id"`
	Name       string `json:"name" gorm:"primary_key"`
	NameCN     string `json:"name_cn"`
	Email      string `json:"email"`
}

// Record employee info
func (e *Employee) RecordEmployee() error {
	db := getCommonHandle()
	// return db.Model(&Employee{}).FirstOrCreate(e).Error
	db = db.Model(&Employee{}).Update(e)
	if db.Error != nil {
		fmt.Println(db.Error.Error())
	}
	if db.RowsAffected == 0 { //not update
		return db.FirstOrCreate(e).Error
	}
	return nil
}
